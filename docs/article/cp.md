# cp

`cp`命令，是英文 copy 的缩写，主要用于复制文件或目录。

## 语法

```
	cp [OPTIONS] SOURCE DESTINATION
```

## 常用选项

- `-a`，通常在复制目录时使用，复制时保留链接、文件属性，并复制目录下的所有内容，和同时指定`-dpR`参数的效果相同。
- `-d`，当复制的是符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录指向的原始文件或目录。
- `-f`，force，覆盖已经存在的目标文件，并且不会给出提示。
- `-i`，inquiry，与`-f`选项相反，在覆盖目标文件之前给出提示。用户输入`y`或`yes`，表示将覆盖；输入`n`或`no`，表示取消对源文件的移动，以避免文件覆盖。
- `-R/r`，recursive，递归处理，若源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。

## 进阶选项

- `-b`，backup，在覆盖已存在的文件前将先目标文件备份。
- `-l`，link，不复制文件，只是生成链接文件，对源文件建立**硬连接**。
- `-p`，除复制文件的内容外，还把修改时间和访问权限等也复制到新文件中。
- `-s`，soft link，对源文件建立**符号连接**，而非复制文件。
- `-S`，suffix，在备份文件时，用指定的后缀`SUFFIX`代替文件的默认后缀。
- `-u`，update，使用`-u`选项后，只会在源文件的更改时间比目标文件更新时，或是同样名字的目标文件并不存在时，才会执行复制文件的操作。
- `-v`，verbose，详细显示每个文件执行时的操作。

## 实例

复制一个名为`file.txt`的文件，并重命名为`file_backup.txt`。

```
    $ cp file.txt file_backup.txt
```
或

```
    $ cp file{,_backup}
```


如果想仅在文件比目标文件更新的情况下才复制文件，使用以下`-u`选项。

```
    $ cp -u file.txt file_backup.txt
```


要将文件复制到另一个目录，需要指定目标目录的绝对或相对路径。使用`-i`可以确认是否有重名文件。

```
    $ cp -i file.txt /backup
```

如果想仅在文件比目标文件更新的情况下才复制文件，使用以下`-u`选项。

```
    $ cp -u file.txt file_backup.txt
```

复制文件时，新文件的所有权归运行该命令的用户所有，如果想保留原来的这些信息，就需要使用`-p`选项保留文件权限，所有者和时间戳等信息。

```
    $ cp -p file.txt file_backup.txt
```

要一次复制多个文件和目录，只需要列出它们的名称（通配符也是支持的哦），使用目标目录（目标位置必须是目录）作为最后一个参数即可：

```
    $ cp file.txt dir file1.txt  dir1
```


<!--
https://man.linuxde.net/cp
https://www.runoob.com/linux/linux-comm-cp.html
https://linuxize.com/post/cp-command-in-linux/
-->

[Home](/)
