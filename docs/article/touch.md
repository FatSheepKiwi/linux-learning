# touch

`touch`命令，可以用于修改已存在文件或目录的时间属性（时间戳），包括存取时间和更改时间；而如果文件不存在，在拥有写权限的情况下，则可以帮助创建一个新的空文件。

在详细介绍`touch`命令之前，我们先要了解 Linux 文件的三种时间戳，

- `atime`（access time），上一次文件被某个指令或应用（如`cat`、`vim`、`grep`等）访问或者打开的时间。
- `mtime`（modify time），上一次文件内容被修改过的时间。
- `ctime`（change time）， 上一次文件属性或者内容被修改的时间，属性包括文件权限、文件拥有者、文件的路径等等。
  
想要查看文件的状态和时间戳的话，可以使用`stat`命令，

```
    $ stat file_name
```

默认情况下，在不使用任何选项的情况下，`touch`将会同时修改文件的 access time 和 modify time。

## 语法

```
	touch [OPTIONS]... FILE...
```

## 常用选项

- `-a`，`--time=atime`，只更改 access time。
- `-c`，或-`-no-create` ，只更改文件的时间戳；如果不存在这个文件名的文件，也不会创建任何新文件。
- `-d`，`--date=`，`touch`命令默认使用的是系统的当前时间，而指定`-d`后可以使用指定的日期时间的字符串。
- `-f`，可以忽略，它的存在是为了解决不同 Unix 版本touch指令的兼容性问题。
- `-h`，`--no-dereference`，如果不使用`-h`指令，对于一个符号链接的`touch`将会作用于链接指向的文件；如果想作用于符号链接文件本身，就需要指定`-h`。
- `-m`，或`--time=mtime`，只更改 modify time。
- `-r`，`--reference=`，可以选择一个参考文件，把指定文件或目录的日期时间，统统设成和参考文件或目录的相同的时间。
- `-t`，使用指定的日期时间，与`-d`不同的是，它接受的是`[[CC]YY]MMDDhhmm[.ss]`格式的时间戳。

## 实例

Github 的教程中，就使用`touch`来在新的仓库里创建`README.md`文件。

```
    $ touch README.md
```

如果`file1`不存在就会创建一个名为`file1`的新文件；否则会改变它的时间戳，更新为当前系统时间。

```
    $ touch file1
```

创建或更改多个文件时，可以一次性传入多个文件名。

```
    $ touch file1 file2 file3
```

如果只想修改文件的 access time 或 modify time，则需要使用`-a`或`-m`选项；一个修改 access time 的例子。

```
    $ touch -a file1
```

如果不想使用当前时间，而是想要指定一个时间，就需要`-d`（`--date=`）选项来指定。如果想把文件的上次使用和修改时间都改为`1 April 2021 12:28`。注意要用单引号包住时间字符串。

```
    $ touch -d '1 April 2021 12:28' file1
```

当然也可以提供部分日期，其他部分使用当前的系统时间。

```
    $ touch -d '12 June' file1
```

如果使用的是`-t` 选项来指定一个时间戳的话，需要遵循`[[CC]YY]MMDDhhmm[.ss]`的格式；一个使用`-t`的`1 April 2021 12:28`的例子。

```
    $ touch -t 2104011228 file1
```

`-r` 选择一个参考文件的例子，使用`file1`作为`file2`的参考，来设定`file2`的时间戳。

```
    $ touch -r file1 file2
```

<!--

-->

[Home](/)
