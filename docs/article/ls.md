# ls

`ls` 命令可以说是在命令行中最最常用的命令了，它是 lists files and directories （列出文件和目录）的缩写，用于显示指定目录下的内容，也就是列出这个目录中包含的文件和子目录。

## 语法

```
    ls [OPTIONS] [FILES]
```

## 常用选项

* `-a` 显示所有文件及目录 ( `.` 开头的隐藏文件也会被列出)。
* `-A` 同 `-a` ，但不列出 `.` (目前目录) 及 `..` (父目录)。
* `-l` 除文件名称外，同时以长格式（long format）显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限、硬连接数、所有者、所在组、文件大小和文件的最后修改时间等。
* `-r` 将文件以字母倒序显示(默认按照字母顺序的))。
* `-R` 若子目录中也有文件，将会把子目录中的文件也列出来。如果这个目录下有很多子目录和文件，要谨慎使用这个参数，否则会输出海量刷屏的信息。
* `-t` 将文件以创建时间先后次序列出。

### Long List Format

ls 命令默认只会输出文件和文件夹的名字，如果想要看到详细的信息，就需要借助`-l`选项，来输出更加详细的信息。

```
$ ls -l
total 20
dr-xr-x---.  2 root root  135 Dec 16 02:34 .
dr-xr-xr-x. 15 root root  224 Dec 14 01:38 ..
drwxr-xr-x   7 root root  615 Dec 14 01:59 foo
-rw-------.  1 root root 1.2K Dec 16 02:34 .bash_history
-rw-r--r--.  1 root root   18 Dec 28  2020 .bash_log
```

从上面输出结果可以看到，共有7列，含义分别是：

* 第一列表示文件类型和权限，共10位。
* 第二列表示链接数，表示有多少个文件链接到inode号码。
* 第三列表示拥有者。
* 第四列表示所属群组。
* 第五列表示文档容量大小，单位字节。
* 第六列表示文档最后修改时间，注意不是文档的创建时间。
* 第七列表示文档名称。以点`.`开头的就是隐藏文档。

进一步来看第一列的规则，首先，第1个字符表示的文件类型可以分为：

* `-` 普通文件，包括纯文本文件(ASCII)、二进制文件(binary)等。
* `b` 块设备文件（Block special file），存储数据以供系统存取的接口设备，简单而言就是硬盘。
* `c` 字符设备文件（Character special file），串行端口的接口设备，例如键盘、鼠标等。
* `d` 目录文件，可以使用`cd`进入。
* `l` 链接文件（Symbolic link）。
* `p` 管道文件（FIFO）。
* `s` 套接字文件（Socket），通常用在网络数据连接。

后9位字符，我们3位一组，依次对应三种身份所拥有的权限，身份顺序为：owner、group、others。每组中的含义是：

* `r` read，读。
* `w` write，写。
* `x` execute，可执行。

举个例子，`-r-xr-x---`的含义就是，当前文档是一个文件，拥有者可读、可执行；同一个群组下的用户，可读、可写；其他人没有任何权限。

## 进阶选项

* `-b` 将文件中的不可输出的字符以反斜线`\\`加字符编码的方式输出。
* `-C` 多列显示输出结果。这是默认选项。
* `-1` 与`-C`选项功能相反，所有输出信息用单列格式输出，不输出为多列。
* `-F` 在每个输出项后追加文件的类型标识符，具体含义：`*`表示具有可执行权限的普通文件，`/`表示目录，`@`表示符号链接，`|`表示命令管道FIFO，`=`表示 sockets 套接字，当文件为普通文件时，不输出任何标识符。
* `-i` 显示文件索引节点号（inode），一个索引节点代表一个文件。
* `-m` 用`,`号区隔每个文件和目录的名称。
* `-n` 以用户识别码代替用户名，用群组识别码替代组名。
* `-s` 显示文件和目录的大小，以区块（block）为单位。

### inode 是什么

`-i` 选项中提到了 inode 的概念，它是Unix/Linux文件系统运作方式的基础。简单来说，在Unix/Linux系统中，文件名不重要，它只是文件 inode 的一个“别称”，文件的信息全都放在 inode 当中，具体原理的可以参考[理解inode][inode]

## 实例

[Home](/)

[inode]: https://www.ruanyifeng.com/blog/2011/12/inode.html 
<!-- 
https://linuxize.com/post/how-to-list-files-in-linux-using-the-ls-command/
https://www.runoob.com/linux/linux-comm-ls.html
https://man.linuxde.net/ls
https://blog.csdn.net/rong09_13/article/details/79233956
-->
